{"version":3,"sources":["styles/styled.ts","helpers/reducer.ts","actions/authorization.ts","helpers/authorization.ts","reducers/authorization.ts","actions/userProfile.ts","reducers/userProfile.ts","actions/browse.ts","reducers/fetching.ts","actions/playlists.ts","reducers/browse.ts","reducers/playlists.ts","actions/albums.ts","reducers/albums.ts","actions/player.ts","reducers/player.ts","reducers/index.ts","components/Icon.tsx","components/layout/Title.tsx","components/layout/User.tsx","components/layout/Header.tsx","components/layout/Menu.tsx","components/player/Album.tsx","components/player/Controls.tsx","components/player/Progress.tsx","components/player/Audio.tsx","components/player/Player.tsx","components/DefaultRoute.tsx","components/browse/Covers.tsx","components/withLoader.tsx","components/browse/Categories.tsx","helpers/utils.ts","components/browse/NewReleases.tsx","components/browse/FeaturedPlaylists.tsx","components/browse/Browse.tsx","components/browse/CategoryPlaylists.tsx","components/search/Search.tsx","components/tracks/Cover.tsx","components/tracks/Tracks.tsx","components/tracks/PlaylistTracks.tsx","components/tracks/AlbumTracks.tsx","components/layout/Routes.tsx","components/layout/App.tsx","styles/theme.ts","styles/global.ts","index.tsx","middlewares/fetchMiddleware.ts"],"names":["styledComponents","styled","default","ThemeProvider","css","createGlobalStyle","keyframes","createReducer","initialState","handlers","state","arguments","length","undefined","action","hasOwnProperty","type","ActionType","URL","concat","process","REGEX","ACCESS_TOKEN","TOKEN_TYPE","EXPIRES_AT","receiveAuthorization","ReceiveAuthorization","isAuthorized","Object","defineProperty","objectSpread","authorization","userProfile","UserProfileSuccess","payload","selectUserProfile","startFetching","fetchs","endFetching","isFetching","categories","newReleases","featuredPlaylists","categoryPlaylists","_createReducer","CategoriesRequest","CategoriesSuccess","CategoriesFailure","CategoryRequest","CategorySuccess","toConsumableArray","CategoryFailure","NewReleasesRequest","NewReleasesSuccess","NewReleasesFailure","FeaturedPlaylistsRequest","FeaturedPlaylistsSuccess","FeaturedPlaylistsFailure","CategoryPlaylistsRequest","CategoryPlaylistsSuccess","CategoryPlaylistsFailure","selectIsFetching","browse","selectCategories","selectCategory","categoryId","find","category","id","selectNewReleases","selectFeaturedPlaylists","selectCategoryPlaylists","playlist","playlistTracks","playlists_createReducer","PlaylistRequest","PlaylistSuccess","PlaylistFailure","PlaylistTracksRequest","PlaylistTracksSuccess","PlaylistTracksFailure","playlists","selectPlaylist","selectPlaylistTracks","filter","playlistTrack","track","map","TrackState","album","tracks","albums_createReducer","AlbumRequest","AlbumSuccess","AlbumFailure","AlbumTracksRequest","AlbumTracksSuccess","AlbumTracksFailure","albums","selectAlbum","selectAlbumTracks","playCurrent","dispatch","PlayCurrent","pauseCurrent","PauseCurrent","None","duration","elapsed","remaining","shouldPlay","shouldPause","player_createReducer","LoadTrackSuccess","current","isLoaded","Loaded","Playing","isPlaying","Update","Paused","isPaused","selectCurrent","player","selectState","selectTimes","selectCommands","combineReducers","IconType","Icon","props","className","react_default","a","createElement","Wrapper","div","_templateObject","theme","font","size","large","weight","bold","StyledIcon","_templateObject2","Title","Wifi","Link","to","User_templateObject","User_templateObject2","User","display_name","User_Wrapper","User_StyledIcon","Person","header","Header_templateObject","primary","LoginButton","button","Header_templateObject2","foreground","background","hover","active","Header","handleClick","_callee","regenerator_default","wrap","_context","prev","next","_this","getAuthorization","stop","_this$props","this","getUserProfile","Header_Wrapper","layout_Title","layout_User","onClick","Component","mapDispatch","_ref","asyncToGenerator","mark","RequestAuthorization","Promise","resolve","reject","addEventListener","handleStorage","event","key","removeEventListener","location","assign","_x","apply","types","UserProfileRequest","UserProfileFailure","path","connect","ul","Menu_templateObject","dark","StyledNavLink","NavLink","Menu_templateObject2","primaryLight","_templateObject3","Menu","Menu_Wrapper","Menu_StyledIcon","ViewModule","Search","Album_templateObject","Image","img","Album_templateObject2","Infos","Album_templateObject3","span","_templateObject4","Artist","_templateObject5","light","Album","image","name","artist","Album_Wrapper","src","Album_Title","Controls_templateObject","RoundButton","Controls_templateObject2","MainButton","Controls_templateObject3","Controls_templateObject4","Controls","handleToggleClick","_this$props2","times","Controls_Wrapper","disabled","Controls_StyledIcon","SkipPrevious","Pause","PlayArrow","SkipNext","Progress_templateObject","ProgressTime","Progress_templateObject2","small","ProgressBar","Progress_templateObject3","progress","Progress","seconds","minutes","Math","floor","round","Progress_Wrapper","renderTime","Audio","audio","createRef","handleLoaded","target","loaded","handlePlay","playing","handleUpdate","update","currentTime","handlePause","paused","_this$props$commands","commands","play","pause","ref","preview_url","onLoadedMetadata","onPlay","onTimeUpdate","onPause","Player_templateObject","ThirdWrapper","Player_templateObject2","CenterWrapper","Player_templateObject3","Player","Fragment","Player_Wrapper","player_Album","images","url","artists","player_Controls","player_Progress","player_Audio","DefaultRoute","from","Route","exact","render","Redirect","StyledList","Covers_templateObject","StyledItem","li","Covers_templateObject2","Button","Covers_templateObject3","Covers_templateObject4","Name","Covers_templateObject5","_templateObject6","Covers","items","item","Covers_Image","title","Covers_Artist","Fader","withLoader_templateObject","isLoading","Loader","withLoader_templateObject2","withLoader","WrappedComponent","rest","objectWithoutProperties","Categories","history","push","getCategories","icons","browse_Covers","select","object","withRouter","joinArtistNames","join","NewReleases","albumId","getAlbums","author","FeaturedPlaylists","playlistId","getPlaylists","Browse_templateObject","Browse_templateObject2","medium","Browse_templateObject3","Browse","match","Browse_Wrapper","Browse_StyledList","label","link","Browse_StyledNavLink","components_DefaultRoute","component","h1","CategoryPlaylists_templateObject","extraExtraLarge","CategoryPlaylists","getCategory","params","CategoryPlaylists_Title","getCategoryPlaylists","ownProps","Cover_templateObject","Cover_templateObject2","Cover_templateObject3","Cover_templateObject4","Cover","Cover_Wrapper","Cover_Image","Cover_Title","Cover_Artist","Tracks_templateObject","Tracks_templateObject2","isHidden","Tracks_templateObject3","Tracks_templateObject4","Tracks_templateObject5","Duration","Tracks_templateObject6","Tracks","trackId","loadTrack","hasPreview","Tracks_StyledIcon","VolumeUp","MusicNote","MusicOff","Tracks_Artist","duration_ms","_this2","Tracks_Button","isDisabled","renderIcon","Tracks_Infos","Tracks_Title","renderArtist","renderDuration","LoadTrackRequest","LoadTrackFailure","PlaylistTracks","getPlaylist","getTracks","tracks_Cover","owner","tracks_Tracks","getPlaylistTracks","AlbumTracks","getAlbum","getAlbumTracks","Routes_templateObject","Routes","Routes_Wrapper","App_templateObject","Body","App_templateObject2","App","BrowserRouter","App_Wrapper","layout_Header","layout_Menu","layout_Routes","player_Player","extraLarge","normal","darken","global_templateObject","hash","localStorage","date","Date","setSeconds","getSeconds","parseInt","toString","checkRedirection","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunkMiddleware","_types","slicedToArray","requestType","successType","failureType","tokenType","accessToken","fetch","headers","Authorization","authorizedFetch","then","response","json","ok","error","parse","now","ReactDOM","global","es","layout_App","document","getElementById"],"mappings":"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","file":"static/js/main.f71e388f.chunk.js","sourcesContent":["import * as styledComponents from \"styled-components\";\r\nimport { Theme } from \"./theme\";\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  createGlobalStyle,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as styledComponents.ThemedStyledComponentsModule<Theme>;\r\n\r\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\r\nexport default styled;\r\n","import { Action } from \"redux\";\r\n\r\nexport default function createReducer(initialState: object, handlers: any) {\r\n  return function reducer(state = initialState, action: Action) {\r\n    if (handlers.hasOwnProperty(action.type)) {\r\n      return handlers[action.type](state, action);\r\n    } else {\r\n      return state;\r\n    }\r\n  };\r\n}\r\n","import { Action, Dispatch } from \"redux\";\r\nimport { authorize } from \"../helpers/authorization\";\r\n\r\nexport enum ActionType {\r\n  RequestAuthorization = \"REQUEST_AUTHORIZATION\",\r\n  ReceiveAuthorization = \"RECEIVE_AUTHORIZATION\"\r\n}\r\n\r\nexport interface RequestAuthorizationAction\r\n  extends Action<ActionType.RequestAuthorization> {}\r\n\r\nfunction requestAuthorization(): RequestAuthorizationAction {\r\n  return {\r\n    type: ActionType.RequestAuthorization\r\n  };\r\n}\r\n\r\nexport interface ReceiveAuthorizationAction\r\n  extends Action<ActionType.ReceiveAuthorization> {}\r\n\r\nexport function receiveAuthorization(): ReceiveAuthorizationAction {\r\n  return {\r\n    type: ActionType.ReceiveAuthorization\r\n  };\r\n}\r\n\r\nexport function getAuthorization() {\r\n  return async (\r\n    dispatch: Dispatch<RequestAuthorizationAction | ReceiveAuthorizationAction>\r\n  ) => {\r\n    dispatch(requestAuthorization());\r\n    await authorize();\r\n    dispatch(receiveAuthorization());\r\n  };\r\n}\r\n","import { Dispatch } from \"redux\";\r\nimport { receiveAuthorization } from \"../actions/authorization\";\r\n\r\nconst URL = `https://accounts.spotify.com/authorize?client_id=${\r\n  process.env.REACT_APP_CLIENT_ID\r\n}&response_type=token&redirect_uri=${process.env.REACT_APP_REDIRECT_URI}`;\r\nconst REGEX = /#access_token=(.*?)&token_type=(.*?)&expires_in=(.*)$/;\r\nconst ACCESS_TOKEN = \"token\";\r\nconst TOKEN_TYPE = \"tokenType\";\r\nconst EXPIRES_AT = \"expiresAt\";\r\n\r\nfunction authorize(): Promise<any> {\r\n  return new Promise((resolve, reject) => {\r\n    const handleStorage = (event: StorageEvent) => {\r\n      if (event.key === ACCESS_TOKEN) {\r\n        removeEventListener(\"storage\", handleStorage);\r\n        resolve();\r\n      }\r\n    };\r\n    addEventListener(\"storage\", handleStorage);\r\n    location.assign(URL);\r\n  });\r\n}\r\n\r\nfunction checkRedirection(): void {\r\n  const match = location.hash.match(REGEX);\r\n  if (match) {\r\n    localStorage[ACCESS_TOKEN] = match[1];\r\n    localStorage[TOKEN_TYPE] = match[2];\r\n    const date = new Date();\r\n    date.setSeconds(date.getSeconds() + parseInt(match[3]));\r\n    localStorage[EXPIRES_AT] = date.toString();\r\n  }\r\n}\r\n\r\nfunction initAuthorization(dispatch: Dispatch): void {\r\n  if (\r\n    !!localStorage[ACCESS_TOKEN] &&\r\n    Date.parse(localStorage[EXPIRES_AT]) > Date.now()\r\n  ) {\r\n    dispatch(receiveAuthorization());\r\n  }\r\n}\r\n\r\nfunction authorizedFetch(url: string): Promise<Response> {\r\n  const tokenType = localStorage[TOKEN_TYPE];\r\n  const accessToken = localStorage[ACCESS_TOKEN];\r\n\r\n  return fetch(url, {\r\n    headers: {\r\n      Authorization: `${tokenType} ${accessToken}`\r\n    }\r\n  });\r\n}\r\n\r\nexport { authorize, checkRedirection, initAuthorization, authorizedFetch };\r\n","import createReducer from \"../helpers/reducer\";\r\nimport {\r\n  ActionType,\r\n  ReceiveAuthorizationAction\r\n} from \"../actions/authorization\";\r\nimport { State as CombinedState } from \".\";\r\n\r\nexport interface State {\r\n  isAuthorized: boolean;\r\n}\r\n\r\nconst initialState: State = {\r\n  isAuthorized: false\r\n};\r\n\r\nexport default createReducer(initialState, {\r\n  [ActionType.ReceiveAuthorization]: (\r\n    state: State,\r\n    action: ReceiveAuthorizationAction\r\n  ) => ({\r\n    ...state,\r\n    isAuthorized: true\r\n  })\r\n});\r\n\r\nexport function isAuthorized(state: CombinedState): boolean {\r\n  return !!state.authorization.isAuthorized;\r\n}\r\n","import { UserProfile } from \"../types\";\r\nimport { FetchDispatch, PayloadAction } from \"./types\";\r\n\r\nexport enum ActionType {\r\n  UserProfileRequest = \"USER_PROFILE_REQUEST\",\r\n  UserProfileSuccess = \"USER_PROFILE_SUCCESS\",\r\n  UserProfileFailure = \"USER_PROFILE_FAILURE\"\r\n}\r\n\r\nexport interface UserProfileSuccessAction\r\n  extends PayloadAction<ActionType.UserProfileSuccess, UserProfile> {}\r\n\r\nexport function getUserProfile() {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.UserProfileRequest,\r\n        ActionType.UserProfileSuccess,\r\n        ActionType.UserProfileFailure\r\n      ],\r\n      path: \"me\"\r\n    });\r\n  };\r\n}\r\n","import createReducer from \"../helpers/reducer\";\r\nimport { UserProfile } from \"../types\";\r\nimport { ActionType, UserProfileSuccessAction } from \"../actions/userProfile\";\r\nimport { State as CombinedState } from \".\";\r\n\r\nexport interface State {\r\n  userProfile?: UserProfile;\r\n}\r\n\r\nconst initialState: State = {\r\n  userProfile: undefined\r\n};\r\n\r\nexport default createReducer(initialState, {\r\n  [ActionType.UserProfileSuccess]: (\r\n    state: State,\r\n    action: UserProfileSuccessAction\r\n  ) => ({\r\n    ...state,\r\n    userProfile: action.payload\r\n  })\r\n});\r\n\r\nexport function selectUserProfile(\r\n  state: CombinedState\r\n): UserProfile | undefined {\r\n  return state.userProfile.userProfile;\r\n}\r\n","import { Album, Category, Playlist } from \"../types\";\r\nimport { FetchDispatch, PayloadAction } from \"./types\";\r\n\r\nexport enum ActionType {\r\n  CategoriesRequest = \"CATEGORIES_REQUEST\",\r\n  CategoriesSuccess = \"CATEGORIES_SUCCESS\",\r\n  CategoriesFailure = \"CATEGORIES_FAILURE\",\r\n  CategoryRequest = \"CATEGORY_REQUEST\",\r\n  CategorySuccess = \"CATEGORY_SUCCESS\",\r\n  CategoryFailure = \"CATEGORY_FAILURE\",\r\n  NewReleasesRequest = \"NEW_RELEASES_REQUEST\",\r\n  NewReleasesSuccess = \"NEW_RELEASES_SUCCESS\",\r\n  NewReleasesFailure = \"NEW_RELEASES_FAILURE\",\r\n  FeaturedPlaylistsRequest = \"FEATURED_PLAYLISTS_REQUEST\",\r\n  FeaturedPlaylistsSuccess = \"FEATURED_PLAYLISTS_SUCCESS\",\r\n  FeaturedPlaylistsFailure = \"FEATURED_PLAYLISTS_FAILURE\",\r\n  CategoryPlaylistsRequest = \"CATEGORY_PLAYLISTS_REQUEST\",\r\n  CategoryPlaylistsSuccess = \"CATEGORY_PLAYLISTS_SUCCESS\",\r\n  CategoryPlaylistsFailure = \"CATEGORY_PLAYLISTS_FAILURE\"\r\n}\r\n\r\nexport interface CategoriesSuccessAction\r\n  extends PayloadAction<ActionType.CategoriesSuccess, Category[]> {}\r\n\r\nexport function getCategories() {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.CategoriesRequest,\r\n        ActionType.CategoriesSuccess,\r\n        ActionType.CategoriesFailure\r\n      ],\r\n      path: \"browse/categories\",\r\n      select: (object: any) => object.categories.items\r\n    });\r\n  };\r\n}\r\n\r\nexport interface CategorySuccessAction\r\n  extends PayloadAction<ActionType.CategorySuccess, Category> {}\r\n\r\nexport function getCategory(categoryId: string) {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.CategoryRequest,\r\n        ActionType.CategorySuccess,\r\n        ActionType.CategoryFailure\r\n      ],\r\n      path: `browse/categories/${categoryId}`\r\n    });\r\n  };\r\n}\r\n\r\nexport interface NewReleasesSuccessAction\r\n  extends PayloadAction<ActionType.NewReleasesSuccess, Album[]> {}\r\n\r\nexport function getNewReleases() {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.NewReleasesRequest,\r\n        ActionType.NewReleasesSuccess,\r\n        ActionType.NewReleasesFailure\r\n      ],\r\n      path: \"browse/new-releases\",\r\n      select: (object: any) => object.albums.items\r\n    });\r\n  };\r\n}\r\n\r\nexport interface FeaturedPlaylistsSuccessAction\r\n  extends PayloadAction<ActionType.FeaturedPlaylistsSuccess, Playlist[]> {}\r\n\r\nexport function getFeaturedPlaylists() {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.FeaturedPlaylistsRequest,\r\n        ActionType.FeaturedPlaylistsSuccess,\r\n        ActionType.FeaturedPlaylistsFailure\r\n      ],\r\n      path: \"browse/featured-playlists\",\r\n      select: (object: any) => object.playlists.items\r\n    });\r\n  };\r\n}\r\n\r\nexport interface CategoryPlaylistsSuccessAction\r\n  extends PayloadAction<ActionType.CategoryPlaylistsSuccess, Playlist[]> {}\r\n\r\nexport function getCategoryPlaylists(categoryId: string) {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.CategoryPlaylistsRequest,\r\n        ActionType.CategoryPlaylistsSuccess,\r\n        ActionType.CategoryPlaylistsFailure\r\n      ],\r\n      path: `browse/categories/${categoryId}/playlists`,\r\n      select: (object: any) => object.playlists.items\r\n    });\r\n  };\r\n}\r\n","export interface FetchableState {\r\n  fetchs: number;\r\n}\r\n\r\nexport const startFetching = <S extends FetchableState>(state: S): S => ({\r\n  ...state,\r\n  fetchs: state.fetchs + 1\r\n});\r\n\r\nexport const endFetching = <S extends FetchableState>(state: S): S => ({\r\n  ...state,\r\n  fetchs: state.fetchs - 1\r\n});\r\n\r\nexport const isFetching = <S extends FetchableState>(state: S): boolean =>\r\n  state.fetchs !== 0;\r\n","import { PlaylistTrack, Playlist } from \"../types\";\r\nimport { PayloadAction, FetchDispatch } from \"./types\";\r\n\r\nexport enum ActionType {\r\n  PlaylistRequest = \"PLAYLIST_REQUEST\",\r\n  PlaylistSuccess = \"PLAYLIST_SUCCESS\",\r\n  PlaylistFailure = \"PLAYLIST_FAILURE\",\r\n  PlaylistTracksRequest = \"PLAYLIST_TRACKS_REQUEST\",\r\n  PlaylistTracksSuccess = \"PLAYLIST_TRACKS_SUCCESS\",\r\n  PlaylistTracksFailure = \"PLAYLIST_TRACKS_FAILURE\"\r\n}\r\n\r\nexport interface PlaylistSuccessAction\r\n  extends PayloadAction<ActionType.PlaylistSuccess, Playlist> {}\r\n\r\nexport function getPlaylist(playlistId: string) {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.PlaylistRequest,\r\n        ActionType.PlaylistSuccess,\r\n        ActionType.PlaylistFailure\r\n      ],\r\n      path: `playlists/${playlistId}`\r\n    });\r\n  };\r\n}\r\n\r\nexport interface PlaylistTracksSuccessAction\r\n  extends PayloadAction<ActionType.PlaylistTracksSuccess, PlaylistTrack[]> {}\r\n\r\nexport function getPlaylistTracks(playlistId: string) {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.PlaylistTracksRequest,\r\n        ActionType.PlaylistTracksSuccess,\r\n        ActionType.PlaylistTracksFailure\r\n      ],\r\n      path: `playlists/${playlistId}/tracks`,\r\n      select: (object: any) => object.items\r\n    });\r\n  };\r\n}\r\n","import { Album, Category, Playlist } from \"../types\";\r\nimport createReducer from \"../helpers/reducer\";\r\nimport {\r\n  ActionType,\r\n  CategorySuccessAction,\r\n  CategoriesSuccessAction,\r\n  NewReleasesSuccessAction,\r\n  CategoryPlaylistsSuccessAction,\r\n  FeaturedPlaylistsSuccessAction\r\n} from \"../actions/browse\";\r\nimport { State as CombinedState } from \".\";\r\nimport {\r\n  FetchableState,\r\n  startFetching,\r\n  endFetching,\r\n  isFetching\r\n} from \"./fetching\";\r\n\r\nexport interface State extends FetchableState {\r\n  categories: Category[];\r\n  newReleases: Album[];\r\n  featuredPlaylists: Playlist[];\r\n  categoryPlaylists: Playlist[];\r\n}\r\n\r\nconst initialState: State = {\r\n  fetchs: 0,\r\n  categories: [],\r\n  newReleases: [],\r\n  featuredPlaylists: [],\r\n  categoryPlaylists: []\r\n};\r\n\r\nexport default createReducer(initialState, {\r\n  [ActionType.CategoriesRequest]: startFetching,\r\n  [ActionType.CategoriesSuccess]: (\r\n    state: State,\r\n    action: CategoriesSuccessAction\r\n  ) =>\r\n    endFetching({\r\n      ...state,\r\n      categories: action.payload\r\n    }),\r\n  [ActionType.CategoriesFailure]: endFetching,\r\n\r\n  [ActionType.CategoryRequest]: startFetching,\r\n  [ActionType.CategorySuccess]: (state: State, action: CategorySuccessAction) =>\r\n    endFetching({\r\n      ...state,\r\n      categories: [...state.categories, action.payload]\r\n    }),\r\n  [ActionType.CategoryFailure]: endFetching,\r\n\r\n  [ActionType.NewReleasesRequest]: startFetching,\r\n  [ActionType.NewReleasesSuccess]: (\r\n    state: State,\r\n    action: NewReleasesSuccessAction\r\n  ) =>\r\n    endFetching({\r\n      ...state,\r\n      newReleases: action.payload\r\n    }),\r\n  [ActionType.NewReleasesFailure]: endFetching,\r\n\r\n  [ActionType.FeaturedPlaylistsRequest]: startFetching,\r\n  [ActionType.FeaturedPlaylistsSuccess]: (\r\n    state: State,\r\n    action: FeaturedPlaylistsSuccessAction\r\n  ) =>\r\n    endFetching({\r\n      ...state,\r\n      featuredPlaylists: action.payload\r\n    }),\r\n  [ActionType.FeaturedPlaylistsFailure]: endFetching,\r\n\r\n  [ActionType.CategoryPlaylistsRequest]: startFetching,\r\n  [ActionType.CategoryPlaylistsSuccess]: (\r\n    state: State,\r\n    action: CategoryPlaylistsSuccessAction\r\n  ) =>\r\n    endFetching({\r\n      ...state,\r\n      categoryPlaylists: action.payload\r\n    }),\r\n  [ActionType.CategoryPlaylistsFailure]: endFetching\r\n});\r\n\r\nexport function selectIsFetching(state: CombinedState): boolean {\r\n  return isFetching(state.browse);\r\n}\r\n\r\nexport function selectCategories(state: CombinedState): Category[] {\r\n  return state.browse.categories;\r\n}\r\n\r\nexport function selectCategory(\r\n  state: CombinedState,\r\n  categoryId: string\r\n): Category | undefined {\r\n  return state.browse.categories.find(category => category.id === categoryId);\r\n}\r\n\r\nexport function selectNewReleases(state: CombinedState): Album[] {\r\n  return state.browse.newReleases;\r\n}\r\n\r\nexport function selectFeaturedPlaylists(state: CombinedState): Playlist[] {\r\n  return state.browse.featuredPlaylists;\r\n}\r\n\r\nexport function selectCategoryPlaylists(state: CombinedState): Playlist[] {\r\n  return state.browse.categoryPlaylists;\r\n}\r\n","import createReducer from \"../helpers/reducer\";\r\nimport { Playlist, PlaylistTrack, Track } from \"../types\";\r\nimport {\r\n  ActionType,\r\n  PlaylistSuccessAction,\r\n  PlaylistTracksSuccessAction\r\n} from \"../actions/playlists\";\r\nimport { State as CombinedState } from \".\";\r\nimport {\r\n  FetchableState,\r\n  startFetching,\r\n  endFetching,\r\n  isFetching\r\n} from \"./fetching\";\r\n\r\nexport interface State extends FetchableState {\r\n  playlist?: Playlist;\r\n  playlistTracks: PlaylistTrack[];\r\n}\r\n\r\nconst initialState: State = {\r\n  fetchs: 0,\r\n  playlist: undefined,\r\n  playlistTracks: []\r\n};\r\n\r\nexport default createReducer(initialState, {\r\n  [ActionType.PlaylistRequest]: startFetching,\r\n  [ActionType.PlaylistSuccess]: (state: State, action: PlaylistSuccessAction) =>\r\n    endFetching({\r\n      ...state,\r\n      playlist: action.payload\r\n    }),\r\n  [ActionType.PlaylistFailure]: endFetching,\r\n\r\n  [ActionType.PlaylistTracksRequest]: startFetching,\r\n  [ActionType.PlaylistTracksSuccess]: (\r\n    state: State,\r\n    action: PlaylistTracksSuccessAction\r\n  ) =>\r\n    endFetching({\r\n      ...state,\r\n      playlistTracks: action.payload\r\n    }),\r\n  [ActionType.PlaylistTracksFailure]: endFetching\r\n});\r\n\r\nexport function selectIsFetching(state: CombinedState): boolean {\r\n  return isFetching(state.playlists);\r\n}\r\n\r\nexport function selectPlaylist(state: CombinedState): Playlist | undefined {\r\n  return state.playlists.playlist;\r\n}\r\n\r\nexport function selectPlaylistTracks(state: CombinedState): Track[] {\r\n  return state.playlists.playlistTracks\r\n    .filter(playlistTrack => playlistTrack.track)\r\n    .map(playlistTrack => playlistTrack.track);\r\n}\r\n","import { Album, Track } from \"../types\";\r\nimport { PayloadAction, FetchDispatch } from \"./types\";\r\n\r\nexport enum ActionType {\r\n  AlbumRequest = \"ALBUM_REQUEST\",\r\n  AlbumSuccess = \"ALBUM_SUCCESS\",\r\n  AlbumFailure = \"ALBUM_FAILURE\",\r\n  AlbumTracksRequest = \"ALBUM_TRACKS_REQUEST\",\r\n  AlbumTracksSuccess = \"ALBUM_TRACKS_SUCCESS\",\r\n  AlbumTracksFailure = \"ALBUM_TRACKS_FAILURE\"\r\n}\r\n\r\nexport interface AlbumSuccessAction\r\n  extends PayloadAction<ActionType.AlbumSuccess, Album> {}\r\n\r\nexport function getAlbum(albumId: string) {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.AlbumRequest,\r\n        ActionType.AlbumSuccess,\r\n        ActionType.AlbumFailure\r\n      ],\r\n      path: `albums/${albumId}`\r\n    });\r\n  };\r\n}\r\n\r\nexport interface AlbumTracksSuccessAction\r\n  extends PayloadAction<ActionType.AlbumTracksSuccess, Track[]> {}\r\n\r\nexport function getAlbumTracks(albumId: string) {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.AlbumTracksRequest,\r\n        ActionType.AlbumTracksSuccess,\r\n        ActionType.AlbumTracksFailure\r\n      ],\r\n      path: `albums/${albumId}/tracks`,\r\n      select: (object: any) => object.items\r\n    });\r\n  };\r\n}\r\n","import createReducer from \"../helpers/reducer\";\r\nimport { Album, Track } from \"../types\";\r\nimport {\r\n  ActionType,\r\n  AlbumSuccessAction,\r\n  AlbumTracksSuccessAction\r\n} from \"../actions/albums\";\r\nimport { State as CombinedState } from \".\";\r\nimport {\r\n  FetchableState,\r\n  startFetching,\r\n  endFetching,\r\n  isFetching\r\n} from \"./fetching\";\r\n\r\nexport interface State extends FetchableState {\r\n  album?: Album;\r\n  tracks: Track[];\r\n}\r\n\r\nconst initialState: State = {\r\n  fetchs: 0,\r\n  album: undefined,\r\n  tracks: []\r\n};\r\n\r\nexport default createReducer(initialState, {\r\n  [ActionType.AlbumRequest]: startFetching,\r\n  [ActionType.AlbumSuccess]: (state: State, action: AlbumSuccessAction) =>\r\n    endFetching({\r\n      ...state,\r\n      album: action.payload\r\n    }),\r\n  [ActionType.AlbumFailure]: endFetching,\r\n\r\n  [ActionType.AlbumTracksRequest]: startFetching,\r\n  [ActionType.AlbumTracksSuccess]: (\r\n    state: State,\r\n    action: AlbumTracksSuccessAction\r\n  ) =>\r\n    endFetching({\r\n      ...state,\r\n      tracks: action.payload\r\n    }),\r\n  [ActionType.AlbumTracksFailure]: endFetching\r\n});\r\n\r\nexport function selectIsFetching(state: CombinedState): boolean {\r\n  return isFetching(state.albums);\r\n}\r\n\r\nexport function selectAlbum(state: CombinedState): Album | undefined {\r\n  return state.albums.album;\r\n}\r\n\r\nexport function selectAlbumTracks(state: CombinedState): Track[] {\r\n  return state.albums.tracks;\r\n}\r\n","import { Dispatch } from \"redux\";\r\nimport { Track } from \"../types\";\r\nimport { FetchDispatch, PayloadAction } from \"./types\";\r\n\r\nexport enum ActionType {\r\n  LoadTrackRequest = \"LOAD_TRACK_REQUEST\",\r\n  LoadTrackSuccess = \"LOAD_TRACK_SUCCESS\",\r\n  LoadTrackFailure = \"LOAD_TRACK_FAILURE\",\r\n  Loaded = \"LOADED\",\r\n  Playing = \"PLAYING\",\r\n  Update = \"UPDATE\",\r\n  Paused = \"PAUSED\",\r\n  PlayCurrent = \"PLAY_CURRENT\",\r\n  PauseCurrent = \"PAUSE_CURRENT\"\r\n}\r\n\r\nexport interface PlayTrackSuccessAction\r\n  extends PayloadAction<ActionType.LoadTrackSuccess, Track> {}\r\n\r\nexport function loadTrack(trackId: string) {\r\n  return (dispatch: FetchDispatch) => {\r\n    dispatch({\r\n      types: [\r\n        ActionType.LoadTrackRequest,\r\n        ActionType.LoadTrackSuccess,\r\n        ActionType.LoadTrackFailure\r\n      ],\r\n      path: `tracks/${trackId}`\r\n    });\r\n  };\r\n}\r\n\r\nexport interface LoadedAction\r\n  extends PayloadAction<ActionType.Loaded, number> {}\r\n\r\nexport function loaded(duration: number) {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch({\r\n      type: ActionType.Loaded,\r\n      payload: duration\r\n    });\r\n  };\r\n}\r\n\r\nexport function playing() {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch({\r\n      type: ActionType.Playing\r\n    });\r\n  };\r\n}\r\n\r\nexport interface UpdateAction\r\n  extends PayloadAction<ActionType.Update, number> {}\r\n\r\nexport function update(elapsed: number) {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch({\r\n      type: ActionType.Update,\r\n      payload: elapsed\r\n    });\r\n  };\r\n}\r\n\r\nexport function paused() {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch({\r\n      type: ActionType.Paused\r\n    });\r\n  };\r\n}\r\n\r\nexport function playCurrent() {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch({\r\n      type: ActionType.PlayCurrent\r\n    });\r\n  };\r\n}\r\n\r\nexport function pauseCurrent() {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch({\r\n      type: ActionType.PauseCurrent\r\n    });\r\n  };\r\n}\r\n","import createReducer from \"../helpers/reducer\";\r\nimport { Track } from \"../types\";\r\nimport {\r\n  ActionType,\r\n  LoadedAction,\r\n  UpdateAction,\r\n  PlayTrackSuccessAction\r\n} from \"../actions/player\";\r\nimport { State as CombinedState } from \".\";\r\n\r\nexport enum TrackState {\r\n  None,\r\n  isLoaded,\r\n  isPlaying,\r\n  isPaused\r\n}\r\n\r\nexport interface State {\r\n  current?: Track;\r\n  state: TrackState;\r\n  duration: number;\r\n  elapsed: number;\r\n  remaining: number;\r\n  shouldPlay: boolean;\r\n  shouldPause: boolean;\r\n}\r\n\r\nconst initialState: State = {\r\n  state: TrackState.None,\r\n  duration: 0,\r\n  elapsed: 0,\r\n  remaining: 0,\r\n  shouldPlay: false,\r\n  shouldPause: false\r\n};\r\n\r\nexport default createReducer(initialState, {\r\n  [ActionType.LoadTrackSuccess]: (\r\n    state: State,\r\n    action: PlayTrackSuccessAction\r\n  ): State => ({\r\n    ...state,\r\n    current: action.payload,\r\n    state: TrackState.isLoaded,\r\n    shouldPlay: true,\r\n    shouldPause: false\r\n  }),\r\n  [ActionType.Loaded]: (state: State, action: LoadedAction): State => ({\r\n    ...state,\r\n    duration: action.payload\r\n  }),\r\n  [ActionType.Playing]: (state: State): State => ({\r\n    ...state,\r\n    state: TrackState.isPlaying,\r\n    shouldPlay: false\r\n  }),\r\n  [ActionType.Update]: (state: State, action: UpdateAction): State => ({\r\n    ...state,\r\n    elapsed: action.payload,\r\n    remaining: state.duration - action.payload\r\n  }),\r\n  [ActionType.Paused]: (state: State): State => ({\r\n    ...state,\r\n    state: TrackState.isPaused,\r\n    shouldPause: false\r\n  }),\r\n  [ActionType.PlayCurrent]: (state: State): State => ({\r\n    ...state,\r\n    shouldPlay: true,\r\n    shouldPause: false\r\n  }),\r\n  [ActionType.PauseCurrent]: (state: State): State => ({\r\n    ...state,\r\n    shouldPlay: false,\r\n    shouldPause: true\r\n  })\r\n});\r\n\r\nexport function selectCurrent(state: CombinedState): Track | undefined {\r\n  return state.player.current;\r\n}\r\n\r\nexport function selectState(state: CombinedState): TrackState {\r\n  return state.player.state;\r\n}\r\n\r\nexport interface Times {\r\n  duration: number;\r\n  elapsed: number;\r\n  remaining: number;\r\n}\r\n\r\nexport function selectTimes(state: CombinedState): Times {\r\n  const { player } = state;\r\n\r\n  return {\r\n    duration: player.duration,\r\n    elapsed: player.elapsed,\r\n    remaining: player.remaining\r\n  };\r\n}\r\n\r\nexport interface Commands {\r\n  shouldPlay: boolean;\r\n  shouldPause: boolean;\r\n}\r\n\r\nexport function selectCommands(state: CombinedState): Commands {\r\n  const { player } = state;\r\n\r\n  return {\r\n    shouldPlay: player.shouldPlay,\r\n    shouldPause: player.shouldPause\r\n  };\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport authorization, { State as AuthorizationState } from \"./authorization\";\r\nimport userProfile, { State as UserProfileState } from \"./userProfile\";\r\nimport browse, { State as BrowseState } from \"./browse\";\r\nimport playlists, { State as PlaylistsState } from \"./playlists\";\r\nimport albums, { State as AlbumsState } from \"./albums\";\r\nimport player, { State as PlayerState } from \"./player\";\r\n\r\nexport interface State {\r\n  authorization: AuthorizationState;\r\n  userProfile: UserProfileState;\r\n  browse: BrowseState;\r\n  playlists: PlaylistsState;\r\n  albums: AlbumsState;\r\n  player: PlayerState;\r\n}\r\n\r\nexport default combineReducers<State>({\r\n  authorization,\r\n  userProfile,\r\n  browse,\r\n  playlists,\r\n  albums,\r\n  player\r\n});\r\n","import React, { Props } from \"react\";\r\n\r\nexport enum IconType {\r\n  MusicNote = \"music_note\",\r\n  MusicOff = \"music_off\",\r\n  Pause = \"pause\",\r\n  Person = \"person\",\r\n  PlayArrow = \"play_arrow\",\r\n  Refresh = \"refresh\",\r\n  Search = \"search\",\r\n  SkipNext = \"skip_next\",\r\n  SkipPrevious = \"skip_previous\",\r\n  ViewModule = \"view_module\",\r\n  VolumeUp = \"volume_up\",\r\n  Wifi = \"wifi\"\r\n}\r\n\r\ninterface OwnProps {\r\n  type: IconType;\r\n  className?: string;\r\n}\r\n\r\nconst Icon = (props: OwnProps) => {\r\n  const { type, className } = props;\r\n\r\n  return <i className={`material-icons ${className}`}>{type}</i>;\r\n};\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"../../styles/styled\";\r\nimport Icon, { IconType } from \"../Icon\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: ${props => props.theme.font.size.large};\r\n  font-weight: ${props => props.theme.font.weight.bold};\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst Title = () => {\r\n  return (\r\n    <Wrapper>\r\n      <StyledIcon type={IconType.Wifi} />\r\n      <Link to=\"/browse\">Spotify</Link>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import React from \"react\";\r\nimport styled from \"../../styles/styled\";\r\nimport { UserProfile } from \"../../types\";\r\nimport Icon, { IconType } from \"../Icon\";\r\n\r\nconst Wrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst User = (props: UserProfile) => {\r\n  const { display_name } = props;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <StyledIcon type={IconType.Person} />\r\n      <span>{display_name}</span>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"../../styles/styled\";\r\nimport { UserProfile } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport { isAuthorized } from \"../../reducers/authorization\";\r\nimport { selectUserProfile } from \"../../reducers/userProfile\";\r\nimport { getAuthorization } from \"../../actions/authorization\";\r\nimport { getUserProfile } from \"../../actions/userProfile\";\r\nimport Title from \"./Title\";\r\nimport User from \"./User\";\r\n\r\nconst Wrapper = styled.header`\r\n  align-items: center;\r\n  display: flex;\r\n  background: ${props => props.theme.primary};\r\n  box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.2);\r\n  flex-shrink: 0;\r\n  height: 50px;\r\n  justify-content: space-between;\r\n  padding: 0 50px;\r\n  z-index: 2;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  border: none;\r\n  color: ${props => props.theme.foreground.default};\r\n  font-size: 15px;\r\n  height: 100%;\r\n  padding: 0 20px;\r\n\r\n  &:hover {\r\n    background: ${props => props.theme.background.hover};\r\n  }\r\n\r\n  &:active {\r\n    background: ${props => props.theme.background.active};\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  isAuthorized: boolean;\r\n  userProfile?: UserProfile;\r\n  getAuthorization: () => void;\r\n  getUserProfile: () => void;\r\n}\r\n\r\nclass Header extends Component<Props> {\r\n  componentDidMount() {\r\n    const { isAuthorized, getUserProfile } = this.props;\r\n    if (isAuthorized) {\r\n      getUserProfile();\r\n    }\r\n  }\r\n\r\n  handleClick = async () => {\r\n    await this.props.getAuthorization();\r\n  };\r\n\r\n  render() {\r\n    const { userProfile } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Title />\r\n\r\n        {userProfile ? (\r\n          <User {...userProfile} />\r\n        ) : (\r\n          <LoginButton onClick={this.handleClick}>Log In</LoginButton>\r\n        )}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  isAuthorized: isAuthorized(state),\r\n  userProfile: selectUserProfile(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  getAuthorization: getAuthorization,\r\n  getUserProfile: getUserProfile\r\n};\r\n\r\nexport default connect(\r\n  mapState,\r\n  mapDispatch\r\n)(Header);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styled from \"../../styles/styled\";\r\nimport Icon, { IconType } from \"../Icon\";\r\n\r\nconst Wrapper = styled.ul`\r\n  background: ${props => props.theme.background.dark};\r\n  padding: 25px 0;\r\n  width: 250px;\r\n  z-index: 1;\r\n`;\r\n\r\nconst StyledNavLink = styled(NavLink)`\r\n  align-items: center;\r\n  color: ${props => props.theme.foreground.dark};\r\n  display: flex;\r\n  height: 50px;\r\n  padding: 0 50px;\r\n\r\n  &:hover {\r\n    background: ${props => props.theme.background.hover};\r\n    color: ${props => props.theme.foreground.default};\r\n  }\r\n\r\n  &:active {\r\n    background: ${props => props.theme.background.active};\r\n  }\r\n\r\n  &.active {\r\n    border-right: 5px solid ${props => props.theme.primaryLight};\r\n    color: ${props => props.theme.foreground.default};\r\n    padding-right: 45px;\r\n  }\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst Menu = () => {\r\n  return (\r\n    <Wrapper>\r\n      <li>\r\n        <StyledNavLink to={`${process.env.PUBLIC_URL}/browse`}>\r\n          <StyledIcon type={IconType.ViewModule} />\r\n          <span>Browse</span>\r\n        </StyledNavLink>\r\n      </li>\r\n      <li>\r\n        <StyledNavLink to={`${process.env.PUBLIC_URL}/search`}>\r\n          <StyledIcon type={IconType.Search} />\r\n          <span>Search</span>\r\n        </StyledNavLink>\r\n      </li>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { Component, HTMLAttributes } from \"react\";\r\nimport styled from \"../../styles/styled\";\r\n\r\nconst Wrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  height: 100%;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 4px 2px rgba(0, 0, 0, 0.2);\r\n  height: 100%;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst Infos = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst Artist = styled.span`\r\n  color: ${props => props.theme.foreground.dark};\r\n  font-weight: ${props => props.theme.font.weight.light};\r\n`;\r\n\r\ninterface Props extends HTMLAttributes<any> {\r\n  image: string;\r\n  name: string;\r\n  artist: string;\r\n}\r\n\r\nclass Album extends Component<Props> {\r\n  render() {\r\n    const { className, image, name, artist } = this.props;\r\n\r\n    return (\r\n      <Wrapper className={className}>\r\n        <Image src={image} />\r\n        <Infos>\r\n          <Title>{name}</Title>\r\n          <Artist>{artist}</Artist>\r\n        </Infos>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Album;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"../../styles/styled\";\r\nimport { TrackState, Times } from \"../../reducers/player\";\r\nimport Icon, { IconType } from \"../Icon\";\r\n\r\nconst Wrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n`;\r\n\r\nconst RoundButton = styled.button`\r\n  border-radius: 50%;\r\n  color: ${props => props.theme.foreground.dark};\r\n  display: flex;\r\n  margin: 0 10px;\r\n  padding: 5px;\r\n  position: relative;\r\n\r\n  &:not(:disabled):hover {\r\n    background: ${props => props.theme.background.hover};\r\n    color: ${props => props.theme.foreground.default};\r\n  }\r\n\r\n  &:not(:disabled):active {\r\n    background: ${props => props.theme.background.active};\r\n  }\r\n`;\r\n\r\nconst MainButton = styled(RoundButton)`\r\n  transform: scale(1.25);\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  font-size: 25px;\r\n`;\r\n\r\ninterface Props {\r\n  state: TrackState;\r\n  times: Times;\r\n  playCurrent: () => void;\r\n  pauseCurrent: () => void;\r\n}\r\n\r\nclass Controls extends Component<Props> {\r\n  handleToggleClick = () => {\r\n    const { state, playCurrent, pauseCurrent } = this.props;\r\n\r\n    if (state === TrackState.isPlaying) {\r\n      pauseCurrent();\r\n    } else if (state === TrackState.isPaused) {\r\n      playCurrent();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { state, times } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <RoundButton disabled={true}>\r\n          <StyledIcon type={IconType.SkipPrevious} />\r\n        </RoundButton>\r\n\r\n        <MainButton\r\n          onClick={this.handleToggleClick}\r\n          disabled={state === TrackState.None}\r\n        >\r\n          <StyledIcon\r\n            type={\r\n              state === TrackState.isPlaying\r\n                ? IconType.Pause\r\n                : IconType.PlayArrow\r\n            }\r\n          />\r\n        </MainButton>\r\n\r\n        <RoundButton disabled={true}>\r\n          <StyledIcon type={IconType.SkipNext} />\r\n        </RoundButton>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controls;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"../../styles/styled\";\r\n\r\nconst Wrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-cotent: center;\r\n  width: 100%;\r\n`;\r\n\r\nconst ProgressTime = styled.div`\r\n  color: ${props => props.theme.foreground.dark};\r\n  font-size: ${props => props.theme.font.size.small};\r\n  font-weight: ${props => props.theme.font.weight.light};\r\n`;\r\n\r\nconst ProgressBar = styled.div<{ progress: number }>`\r\n  background: ${props => props.theme.foreground.dark};\r\n  border-radius: 5px;\r\n  flex-grow: 1;\r\n  height: 2.5px;\r\n  margin: 0 10px;\r\n  position: relative;\r\n\r\n  &::before {\r\n    background: ${props => props.theme.primaryLight};\r\n    border-radius: 5px;\r\n    content: \"\";\r\n    height: 100%;\r\n    position: absolute;\r\n    width: ${props => props.progress * 100}%;\r\n\r\n    transition: width 0.2s;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  duration: number;\r\n  elapsed: number;\r\n  remaining: number;\r\n}\r\n\r\nclass Progress extends Component<Props> {\r\n  renderTime(seconds: number) {\r\n    const minutes = Math.floor(seconds / 60);\r\n    seconds = Math.round(seconds);\r\n\r\n    return (\r\n      <ProgressTime>\r\n        {`${minutes}:${seconds < 10 ? \"0\" + seconds : seconds}`}\r\n      </ProgressTime>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { duration, elapsed, remaining } = this.props;\r\n    const progress = elapsed / duration;\r\n\r\n    return (\r\n      <Wrapper>\r\n        {this.renderTime(elapsed)}\r\n        <ProgressBar progress={progress} />\r\n        {this.renderTime(remaining)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Progress;\r\n","import React, { Component, createRef, SyntheticEvent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Track } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport { selectCurrent, Commands, selectCommands } from \"../../reducers/player\";\r\nimport { loaded, playing, update, paused } from \"../../actions/player\";\r\n\r\ninterface Props {\r\n  track?: Track;\r\n  commands: Commands;\r\n  loaded: (duration: number) => void;\r\n  playing: () => void;\r\n  update: (elaped: number) => void;\r\n  paused: () => void;\r\n}\r\n\r\nclass Audio extends Component<Props> {\r\n  audio = createRef<HTMLAudioElement>();\r\n\r\n  componentDidUpdate() {\r\n    const { current } = this.audio;\r\n\r\n    if (current) {\r\n      const { shouldPlay, shouldPause } = this.props.commands;\r\n\r\n      if (shouldPlay) {\r\n        current.play();\r\n      } else if (shouldPause) {\r\n        current.pause();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleLoaded = (event: SyntheticEvent<HTMLAudioElement>) => {\r\n    const target = event.target as HTMLAudioElement;\r\n    this.props.loaded(target.duration);\r\n  };\r\n\r\n  handlePlay = () => {\r\n    this.props.playing();\r\n  };\r\n\r\n  handleUpdate = (event: SyntheticEvent<HTMLAudioElement>) => {\r\n    const target = event.target as HTMLAudioElement;\r\n    this.props.update(target.currentTime);\r\n  };\r\n\r\n  handlePause = () => {\r\n    this.props.paused();\r\n  };\r\n\r\n  render() {\r\n    const { track } = this.props;\r\n\r\n    return (\r\n      <audio\r\n        ref={this.audio}\r\n        src={track && track.preview_url}\r\n        onLoadedMetadata={this.handleLoaded}\r\n        onPlay={this.handlePlay}\r\n        onTimeUpdate={this.handleUpdate}\r\n        onPause={this.handlePause}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  track: selectCurrent(state),\r\n  commands: selectCommands(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  loaded: loaded,\r\n  playing: playing,\r\n  update: update,\r\n  paused: paused\r\n};\r\n\r\nexport default connect(\r\n  mapState,\r\n  mapDispatch\r\n)(Audio);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"../../styles/styled\";\r\nimport { Track } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport {\r\n  selectCurrent,\r\n  TrackState,\r\n  selectState,\r\n  Times,\r\n  selectTimes\r\n} from \"../../reducers/player\";\r\nimport { playCurrent, pauseCurrent } from \"../../actions/player\";\r\nimport Album from \"./Album\";\r\nimport Controls from \"./Controls\";\r\nimport Progress from \"./Progress\";\r\nimport Audio from \"./Audio\";\r\n\r\nconst Wrapper = styled.div`\r\n  align-items: center;\r\n  background: ${props => props.theme.background.light};\r\n  box-sizing: border-box;\r\n  box-shadow: 0 -2px 4px 2px rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  height: 100px;\r\n  padding: 15px;\r\n`;\r\n\r\nconst ThirdWrapper = styled.div`\r\n  height: 100%;\r\n  width: 33%;\r\n`;\r\n\r\nconst CenterWrapper = styled(ThirdWrapper)`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  justify-content: space-evenly;\r\n`;\r\n\r\ninterface Props {\r\n  current?: Track;\r\n  state: TrackState;\r\n  times: Times;\r\n  playCurrent: () => void;\r\n  pauseCurrent: () => void;\r\n}\r\n\r\nclass Player extends Component<Props> {\r\n  render() {\r\n    const { current, state, times, playCurrent, pauseCurrent } = this.props;\r\n    const album = current && current.album;\r\n\r\n    return (\r\n      <>\r\n        <Wrapper>\r\n          <ThirdWrapper>\r\n            {album && (\r\n              <Album\r\n                image={album.images[0].url}\r\n                name={album.name}\r\n                artist={album.artists[0].name}\r\n              />\r\n            )}\r\n          </ThirdWrapper>\r\n\r\n          <CenterWrapper>\r\n            <Controls\r\n              state={state}\r\n              times={times}\r\n              playCurrent={playCurrent}\r\n              pauseCurrent={pauseCurrent}\r\n            />\r\n            <Progress\r\n              duration={times.duration}\r\n              elapsed={times.elapsed}\r\n              remaining={times.remaining}\r\n            />\r\n          </CenterWrapper>\r\n\r\n          <ThirdWrapper />\r\n        </Wrapper>\r\n\r\n        <Audio />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  current: selectCurrent(state),\r\n  state: selectState(state),\r\n  times: selectTimes(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  playCurrent: playCurrent,\r\n  pauseCurrent: pauseCurrent\r\n};\r\n\r\nexport default connect(\r\n  mapState,\r\n  mapDispatch\r\n)(Player);\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  from: string;\r\n  to: string;\r\n}\r\n\r\nclass DefaultRoute extends Component<Props> {\r\n  render() {\r\n    const { from, to } = this.props;\r\n\r\n    return <Route exact path={from} render={() => <Redirect to={to} />} />;\r\n  }\r\n}\r\n\r\nexport default DefaultRoute;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"../../styles/styled\";\r\n\r\nconst StyledList = styled.ul`\r\n  align-content: flex-start;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  margin: -10px;\r\n`;\r\n\r\nconst StyledItem = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 4px 2px rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  overflow: hidden;\r\n  position: relative;\r\n  margin-bottom: 10px;\r\n\r\n  &:hover::before {\r\n    background: ${props => props.theme.background.hover};\r\n    content: \"\";\r\n    height: 100%;\r\n    position: absolute;\r\n    width: 100%;\r\n    z-index: 1;\r\n  }\r\n\r\n  &:active::before {\r\n    background: ${props => props.theme.background.active};\r\n  }\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 200px;\r\n  width: 200px;\r\n`;\r\n\r\nconst Name = styled.span`\r\n  margin-bottom: 5px;\r\n  text-align: center;\r\n  width: 200px;\r\n`;\r\n\r\nconst Artist = styled.span`\r\n  color: ${props => props.theme.foreground.dark};\r\n  font-weight: ${props => props.theme.font.weight.light};\r\n`;\r\n\r\ninterface Props {\r\n  items: {\r\n    id: string;\r\n    image: string;\r\n    title: string;\r\n    artist?: string;\r\n  }[];\r\n  onClick: (id: string) => void;\r\n}\r\n\r\nclass Covers extends Component<Props> {\r\n  handleClick(id: string) {\r\n    const { onClick } = this.props;\r\n    onClick && onClick(id);\r\n  }\r\n\r\n  render() {\r\n    const { items } = this.props;\r\n\r\n    return (\r\n      <StyledList>\r\n        {items.map(item => (\r\n          <StyledItem key={item.id}>\r\n            <Button onClick={() => this.handleClick(item.id)}>\r\n              <Image src={item.image} />\r\n            </Button>\r\n            <Name>{item.title}</Name>\r\n            {item.artist && <Artist>{item.artist}</Artist>}\r\n          </StyledItem>\r\n        ))}\r\n      </StyledList>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Covers;\r\n","import React, { FunctionComponent, ComponentType } from \"react\";\r\nimport styled from \"../styles/styled\";\r\n\r\nconst Fader = styled.div<{ isLoading: number }>`\r\n  opacity: ${props => (props.isLoading ? \"0\" : \"1\")};\r\n  transition: ${props => (props.isLoading ? \"all 0\" : \"all 0.2s\")};\r\n`;\r\n\r\nconst Loader = styled.div<{ isLoading: number }>`\r\n  height: 5px;\r\n  left: 0;\r\n  position: absolute;\r\n  opacity: ${props => (props.isLoading ? \"1\" : \"0\")};\r\n  top: 0;\r\n  transition: ${props => (props.isLoading ? \"all 0\" : \"all 0.2s\")};\r\n  width: 100%;\r\n\r\n  &::before {\r\n    background: ${props => props.theme.foreground.dark};\r\n    content: \"\";\r\n    height: 100%;\r\n    position: absolute;\r\n    width: 100%;\r\n  }\r\n\r\n  &::after {\r\n    animation: transform 2s linear infinite;\r\n    background: ${props => props.theme.foreground.default};\r\n    content: \"\";\r\n    height: 100%;\r\n    position: absolute;\r\n    transform-origin: 0;\r\n    width: 100%;\r\n\r\n    @keyframes transform {\r\n      0% {\r\n        left: 0;\r\n        width: 0;\r\n      }\r\n      50% {\r\n        left: 0;\r\n        width: 100%;d\r\n      }\r\n      100% {\r\n        left: 100%;\r\n        width: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  isLoading: boolean;\r\n}\r\n\r\nconst withLoader = <P extends Props>(\r\n  WrappedComponent: ComponentType<P>\r\n): FunctionComponent<P> => {\r\n  return ({ isLoading, ...rest }: any) => {\r\n    return (\r\n      <>\r\n        <Fader isLoading={isLoading}>\r\n          <WrappedComponent {...rest} />\r\n        </Fader>\r\n        <Loader isLoading={isLoading} />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withLoader;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { Category } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport { selectIsFetching, selectCategories } from \"../../reducers/browse\";\r\nimport { getCategories } from \"../../actions/browse\";\r\nimport Covers from \"./Covers\";\r\nimport withLoader from \"../withLoader\";\r\n\r\ninterface Props extends RouteComponentProps {\r\n  isLoading: boolean;\r\n  categories: Category[];\r\n  getCategories: () => void;\r\n}\r\n\r\nclass Categories extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.getCategories();\r\n  }\r\n\r\n  handleClick = (categoryId: string) => {\r\n    const { history } = this.props;\r\n    history.push(\r\n      `${process.env.PUBLIC_URL}/categories/${categoryId}/playlists`\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { categories } = this.props;\r\n    const items = categories.map(category => ({\r\n      id: category.id,\r\n      image: category.icons[0].url,\r\n      title: category.name\r\n    }));\r\n\r\n    return <Covers items={items} onClick={this.handleClick} />;\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  isLoading: selectIsFetching(state),\r\n  categories: selectCategories(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  getCategories: getCategories\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapState,\r\n    mapDispatch\r\n  )(withLoader(Categories))\r\n);\r\n","import { Artist } from \"../types\";\r\n\r\nexport function joinArtistNames(artists: Artist[]) {\r\n  return artists.map(artist => artist.name).join(\", \");\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { Album } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport { selectIsFetching, selectNewReleases } from \"../../reducers/browse\";\r\nimport { getNewReleases } from \"../../actions/browse\";\r\nimport { joinArtistNames } from \"../../helpers/utils\";\r\nimport Covers from \"./Covers\";\r\nimport withLoader from \"../withLoader\";\r\n\r\ninterface Props extends RouteComponentProps {\r\n  isLoading: boolean;\r\n  albums: Album[];\r\n  getAlbums: () => void;\r\n}\r\n\r\nclass NewReleases extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.getAlbums();\r\n  }\r\n\r\n  handleClick = (albumId: string) => {\r\n    const { history } = this.props;\r\n    history.push(`${process.env.PUBLIC_URL}/albums/${albumId}/tracks`);\r\n  };\r\n\r\n  render() {\r\n    const { albums } = this.props;\r\n    const items = albums.map(album => ({\r\n      id: album.id,\r\n      image: album.images[0].url,\r\n      title: album.name,\r\n      author: joinArtistNames(album.artists)\r\n    }));\r\n\r\n    return <Covers items={items} onClick={this.handleClick} />;\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  isLoading: selectIsFetching(state),\r\n  albums: selectNewReleases(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  getAlbums: getNewReleases\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapState,\r\n    mapDispatch\r\n  )(withLoader(NewReleases))\r\n);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { Playlist } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport {\r\n  selectIsFetching,\r\n  selectFeaturedPlaylists\r\n} from \"../../reducers/browse\";\r\nimport { getFeaturedPlaylists } from \"../../actions/browse\";\r\nimport Covers from \"./Covers\";\r\nimport withLoader from \"../withLoader\";\r\n\r\ninterface Props extends RouteComponentProps {\r\n  isLoading: boolean;\r\n  playlists: Playlist[];\r\n  getPlaylists: () => void;\r\n}\r\n\r\nclass FeaturedPlaylists extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.getPlaylists();\r\n  }\r\n\r\n  handleClick = (playlistId: string) => {\r\n    const { history } = this.props;\r\n    history.push(`${process.env.PUBLIC_URL}/playlists/${playlistId}/tracks`);\r\n  };\r\n\r\n  render() {\r\n    const { playlists } = this.props;\r\n    const items = playlists.map(playlist => ({\r\n      id: playlist.id,\r\n      image: playlist.images[0].url,\r\n      title: playlist.name\r\n    }));\r\n\r\n    return <Covers items={items} onClick={this.handleClick} />;\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  isLoading: selectIsFetching(state),\r\n  playlists: selectFeaturedPlaylists(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  getPlaylists: getFeaturedPlaylists\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapState,\r\n    mapDispatch\r\n  )(withLoader(FeaturedPlaylists))\r\n);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  RouteComponentProps,\r\n  NavLink,\r\n  Route,\r\n  withRouter\r\n} from \"react-router-dom\";\r\nimport styled from \"../../styles/styled\";\r\nimport DefaultRoute from \"../DefaultRoute\";\r\nimport Categories from \"./Categories\";\r\nimport NewReleases from \"./NewReleases\";\r\nimport FeaturedPlaylists from \"./FeaturedPlaylists\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n`;\r\n\r\nconst StyledList = styled.ul`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-flow: row;\r\n  font-size: ${props => props.theme.font.size.medium};\r\n  font-weight: ${props => props.theme.font.weight.light};\r\n  justify-content: center;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nconst StyledNavLink = styled(NavLink)`\r\n  align-items: center;\r\n  color: ${props => props.theme.foreground.dark};\r\n  display: flex;\r\n  height: 50px;\r\n  justify-content: center;\r\n  padding: 0 25px;\r\n  position: relative;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.foreground.default};\r\n  }\r\n\r\n  &.active {\r\n    color: ${props => props.theme.foreground.default};\r\n  }\r\n\r\n  &.active&::after {\r\n    background: ${props => props.theme.primaryLight};\r\n    bottom: 0;\r\n    content: \"\";\r\n    height: 2.5px;\r\n    left: 50%;\r\n    position: absolute;\r\n    transform: translate(-50%, 0);\r\n    width: 25px;\r\n  }\r\n`;\r\n\r\nclass Browse extends Component<RouteComponentProps> {\r\n  render() {\r\n    const { match } = this.props;\r\n    const links = [\r\n      {\r\n        url: \"categories\",\r\n        label: \"Categories\"\r\n      },\r\n      {\r\n        url: \"new-releases\",\r\n        label: \"New Releases\"\r\n      },\r\n      {\r\n        url: \"featured-playist\",\r\n        label: \"Featured Playlists\"\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <Wrapper>\r\n        <StyledList>\r\n          {links.map(link => (\r\n            <li key={link.url}>\r\n              <StyledNavLink to={`${match.url}/${link.url}`}>\r\n                {link.label}\r\n              </StyledNavLink>\r\n            </li>\r\n          ))}\r\n        </StyledList>\r\n\r\n        <DefaultRoute from={`${match.path}`} to={`${match.path}/categories`} />\r\n        <Route exact path={`${match.path}/categories`} component={Categories} />\r\n        <Route path={`${match.path}/new-releases`} component={NewReleases} />\r\n        <Route\r\n          path={`${match.path}/featured-playist`}\r\n          component={FeaturedPlaylists}\r\n        />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Browse);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport styled from \"../../styles/styled\";\r\nimport { Category, Playlist } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport {\r\n  selectIsFetching,\r\n  selectCategory,\r\n  selectCategoryPlaylists\r\n} from \"../../reducers/browse\";\r\nimport { getCategory, getCategoryPlaylists } from \"../../actions/browse\";\r\nimport Covers from \"./Covers\";\r\nimport withLoader from \"../withLoader\";\r\n\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  font-size: ${props => props.theme.font.size.extraExtraLarge};\r\n  font-weight: ${props => props.theme.font.weight.bold};\r\n  margin: 0 0 25px 0;\r\n`;\r\n\r\ninterface Params {\r\n  categoryId: string;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {\r\n  isLoading: boolean;\r\n  category?: Category;\r\n  playlists: Playlist[];\r\n  getCategory: (categoryId: string) => void;\r\n  getPlaylists: (categoryId: string) => void;\r\n}\r\n\r\nclass CategoryPlaylists extends Component<Props> {\r\n  componentDidMount() {\r\n    const { category, getCategory, getPlaylists, match } = this.props;\r\n    const { categoryId } = match.params;\r\n    if (!category) {\r\n      getCategory(categoryId);\r\n    }\r\n    getPlaylists(categoryId);\r\n  }\r\n\r\n  handleClick = (playlistId: string) => {\r\n    const { history } = this.props;\r\n    history.push(`${process.env.PUBLIC_URL}/playlists/${playlistId}/tracks`);\r\n  };\r\n\r\n  render() {\r\n    const { category, playlists } = this.props;\r\n    const items = playlists.map(playlists => ({\r\n      id: playlists.id,\r\n      image: playlists.images[0].url,\r\n      title: playlists.name\r\n    }));\r\n\r\n    return (\r\n      <div>\r\n        <Title>{category && category.name}</Title>\r\n        <Covers items={items} onClick={this.handleClick} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state: State, ownProps: Props) => {\r\n  const { match } = ownProps;\r\n  const categoryId = match.params.categoryId;\r\n\r\n  return {\r\n    isLoading: selectIsFetching(state),\r\n    category: selectCategory(state, categoryId),\r\n    playlists: selectCategoryPlaylists(state)\r\n  };\r\n};\r\n\r\nconst mapDispatch = {\r\n  getCategory: (categoryId: string) => getCategory(categoryId),\r\n  getPlaylists: (categoryId: string) => getCategoryPlaylists(categoryId)\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapState,\r\n    mapDispatch\r\n  )(withLoader(CategoryPlaylists))\r\n);\r\n","import React, { Component } from \"react\";\r\n\r\nclass Search extends Component {\r\n  render() {\r\n    return <div />;\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"../../styles/styled\";\r\n\r\nconst Wrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 4px 2px rgba(0, 0, 0, 0.2);\r\n  height: 300px;\r\n  margin-bottom: 15px;\r\n  width: 300px;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-size: ${props => props.theme.font.size.large}\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst Artist = styled.span`\r\n  color: ${props => props.theme.foreground.dark};\r\n  font-weight: ${props => props.theme.font.weight.light};\r\n`;\r\n\r\ninterface Props {\r\n  image: string;\r\n  name: string;\r\n  artist: string;\r\n}\r\n\r\nclass Cover extends Component<Props> {\r\n  render() {\r\n    const { image, name, artist } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Image src={image} />\r\n        <Title>{name}</Title>\r\n        <Artist>{artist}</Artist>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cover;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"../../styles/styled\";\r\nimport { connect } from \"react-redux\";\r\nimport { Track } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport { selectCurrent, TrackState, selectState } from \"../../reducers/player\";\r\nimport { loadTrack, playCurrent, pauseCurrent } from \"../../actions/player\";\r\nimport { joinArtistNames } from \"../../helpers/utils\";\r\nimport Icon, { IconType } from \"../Icon\";\r\n\r\nconst Button = styled.button<{ isLoaded: boolean }>`\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  color: ${props =>\r\n    props.isLoaded ? props.theme.primaryLight : props.theme.foreground.default};\r\n  display: flex;\r\n  margin-bottom: 5px;\r\n  padding: 10px;\r\n  width: 100%;\r\n\r\n  &:not(:disabled):hover {\r\n    background: ${props => props.theme.background.hover};\r\n  }\r\n\r\n  &:not(:disabled):active {\r\n    background: ${props => props.theme.background.active};\r\n  }\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)<{\r\n  isHidden?: boolean;\r\n}>`\r\n  display: ${props => (props.isHidden ? \"none\" : \"block\")};\r\n  margin-right: 15px;\r\n\r\n  ${Button}:not(:disabled):hover & {\r\n    display: ${props => (props.isHidden ? \"block\" : \"none\")};\r\n  }\r\n`;\r\n\r\nconst Infos = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  font-weight: ${props => props.theme.font.weight.light};\r\n  height: 100%;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-grow: 1;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst Artist = styled.span`\r\n  align-items: center;\r\n  color: ${props => props.theme.foreground.dark};\r\n  display: flex;\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst Duration = styled.span`\r\n  color: ${props => props.theme.foreground.dark};\r\n`;\r\n\r\ninterface Props {\r\n  tracks: Track[];\r\n  current: Track | undefined;\r\n  state: TrackState;\r\n  loadTrack: (trackId: string) => void;\r\n  playCurrent: () => void;\r\n  pauseCurrent: () => void;\r\n}\r\n\r\nclass Tracks extends Component<Props> {\r\n  handleClick = (trackId: string) => {\r\n    const { current, state, loadTrack, playCurrent, pauseCurrent } = this.props;\r\n\r\n    if (state === TrackState.None || (current && current.id !== trackId)) {\r\n      loadTrack(trackId);\r\n    } else if (state === TrackState.isPlaying) {\r\n      pauseCurrent();\r\n    } else if (state === TrackState.isPaused) {\r\n      playCurrent();\r\n    }\r\n  };\r\n\r\n  isLoaded(track: Track) {\r\n    const { current } = this.props;\r\n\r\n    return !!current && current.id === track.id;\r\n  }\r\n\r\n  isDisabled(track: Track) {\r\n    return !!track.preview_url;\r\n  }\r\n\r\n  renderIcon(track: Track, isLoaded: boolean) {\r\n    const { state } = this.props;\r\n    const hasPreview = track.preview_url;\r\n    const isPlaying = isLoaded && state === TrackState.isPlaying;\r\n\r\n    return hasPreview ? (\r\n      <>\r\n        <StyledIcon type={isPlaying ? IconType.VolumeUp : IconType.MusicNote} />\r\n        <StyledIcon\r\n          type={isPlaying ? IconType.Pause : IconType.PlayArrow}\r\n          isHidden={true}\r\n        />\r\n      </>\r\n    ) : (\r\n      <StyledIcon type={IconType.MusicOff} />\r\n    );\r\n  }\r\n\r\n  renderArtist(track: Track) {\r\n    return <Artist>{joinArtistNames(track.artists)}</Artist>;\r\n  }\r\n\r\n  renderDuration(track: Track) {\r\n    let seconds = track.duration_ms / 1000;\r\n    const minutes = Math.floor(seconds / 60);\r\n    seconds = Math.floor(seconds % 60);\r\n\r\n    return (\r\n      <Duration>{`${minutes}:${\r\n        seconds < 10 ? \"0\" + seconds : seconds\r\n      }`}</Duration>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { tracks } = this.props;\r\n\r\n    return (\r\n      <ul>\r\n        {tracks.map(track => {\r\n          const isLoaded = this.isLoaded(track);\r\n\r\n          return (\r\n            <li key={track.id}>\r\n              <Button\r\n                onClick={() => this.handleClick(track.id)}\r\n                disabled={!this.isDisabled(track)}\r\n                isLoaded={this.isLoaded(track)}\r\n              >\r\n                {this.renderIcon(track, isLoaded)}\r\n\r\n                <Infos>\r\n                  <Title>{track.name}</Title>\r\n                  {this.renderArtist(track)}\r\n                </Infos>\r\n\r\n                {this.renderDuration(track)}\r\n              </Button>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  current: selectCurrent(state),\r\n  state: selectState(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  loadTrack: loadTrack,\r\n  playCurrent: playCurrent,\r\n  pauseCurrent: pauseCurrent\r\n};\r\n\r\nexport default connect(\r\n  mapState,\r\n  mapDispatch\r\n)(Tracks);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\nimport { Playlist, Track } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport {\r\n  selectIsFetching,\r\n  selectPlaylistTracks,\r\n  selectPlaylist\r\n} from \"../../reducers/playlists\";\r\nimport { getPlaylistTracks, getPlaylist } from \"../../actions/playlists\";\r\nimport Cover from \"./Cover\";\r\nimport Tracks from \"./Tracks\";\r\nimport withLoader from \"../withLoader\";\r\n\r\ninterface Params {\r\n  playlistId: string;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {\r\n  isLoading: boolean;\r\n  playlist?: Playlist;\r\n  tracks: Track[];\r\n  getPlaylist: (playlistId: string) => void;\r\n  getTracks: (playlistId: string) => void;\r\n}\r\n\r\nclass PlaylistTracks extends Component<Props> {\r\n  componentDidMount() {\r\n    const { getPlaylist, getTracks, match } = this.props;\r\n    const { playlistId } = match.params;\r\n    getPlaylist(playlistId);\r\n    getTracks(playlistId);\r\n  }\r\n\r\n  render() {\r\n    const { playlist, tracks } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {playlist && (\r\n          <Cover\r\n            image={playlist.images[0].url}\r\n            name={playlist.name}\r\n            artist={playlist.owner.display_name}\r\n          />\r\n        )}\r\n        <Tracks tracks={tracks} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  isLoading: selectIsFetching(state),\r\n  playlist: selectPlaylist(state),\r\n  tracks: selectPlaylistTracks(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  getPlaylist: (playlistId: string) => getPlaylist(playlistId),\r\n  getTracks: (playlistId: string) => getPlaylistTracks(playlistId)\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapState,\r\n    mapDispatch\r\n  )(withLoader(PlaylistTracks))\r\n);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\nimport { Album, Track } from \"../../types\";\r\nimport { State } from \"../../reducers\";\r\nimport {\r\n  selectIsFetching,\r\n  selectAlbum,\r\n  selectAlbumTracks\r\n} from \"../../reducers/albums\";\r\nimport { getAlbum, getAlbumTracks } from \"../../actions/albums\";\r\nimport { joinArtistNames } from \"../../helpers/utils\";\r\nimport Cover from \"./Cover\";\r\nimport Tracks from \"./Tracks\";\r\nimport withLoader from \"../withLoader\";\r\n\r\ninterface Params {\r\n  albumId: string;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {\r\n  isLoading: boolean;\r\n  album?: Album;\r\n  tracks: Track[];\r\n  getAlbum: (albumId: string) => void;\r\n  getTracks: (albumId: string) => void;\r\n}\r\n\r\nclass AlbumTracks extends Component<Props> {\r\n  componentDidMount() {\r\n    const { getAlbum, getTracks, match } = this.props;\r\n    const { albumId } = match.params;\r\n    getAlbum(albumId);\r\n    getTracks(albumId);\r\n  }\r\n\r\n  render() {\r\n    const { album, tracks } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {album && (\r\n          <Cover\r\n            image={album.images[0].url}\r\n            name={album.name}\r\n            artist={joinArtistNames(album.artists)}\r\n          />\r\n        )}\r\n        <Tracks tracks={tracks} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state: State) => ({\r\n  isLoading: selectIsFetching(state),\r\n  album: selectAlbum(state),\r\n  tracks: selectAlbumTracks(state)\r\n});\r\n\r\nconst mapDispatch = {\r\n  getAlbum: (albumId: string) => getAlbum(albumId),\r\n  getTracks: (albumId: string) => getAlbumTracks(albumId)\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapState,\r\n    mapDispatch\r\n  )(withLoader(AlbumTracks))\r\n);\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport styled from \"../../styles/styled\";\r\nimport DefaultRoute from \"../DefaultRoute\";\r\nimport Browse from \"../browse/Browse\";\r\nimport CategoryPlaylists from \"../browse/CategoryPlaylists\";\r\nimport Search from \"../search/Search\";\r\nimport PlaylistTracks from \"../tracks/PlaylistTracks\";\r\nimport AlbumTracks from \"../tracks/AlbumTracks\";\r\n\r\nconst Wrapper = styled.div`\r\n  flex: 1;\r\n  height: calc(100% - 50px);\r\n  overflow-y: auto;\r\n  padding: 25px;\r\n  position: relative;\r\n`;\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Wrapper>\r\n      <DefaultRoute\r\n        from={`${process.env.PUBLIC_URL}/`}\r\n        to={`${process.env.PUBLIC_URL}/browse`}\r\n      />\r\n      <Route path={`${process.env.PUBLIC_URL}/browse`} component={Browse} />\r\n      <Route path={`${process.env.PUBLIC_URL}/search`} component={Search} />\r\n      <Route\r\n        path={`${process.env.PUBLIC_URL}/categories/:categoryId/playlists`}\r\n        component={CategoryPlaylists}\r\n      />\r\n      <Route\r\n        path={`${process.env.PUBLIC_URL}/playlists/:playlistId/tracks`}\r\n        component={PlaylistTracks}\r\n      />\r\n      <Route\r\n        path={`${process.env.PUBLIC_URL}/albums/:albumId/tracks`}\r\n        component={AlbumTracks}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport styled from \"../../styles/styled\";\r\nimport Header from \"./Header\";\r\nimport Menu from \"./Menu\";\r\nimport Player from \"../player/Player\";\r\nimport Routes from \"./Routes\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n`;\r\n\r\nconst Body = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n`;\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Wrapper>\r\n          <Header />\r\n          <Body>\r\n            <Menu />\r\n            <Routes />\r\n          </Body>\r\n\r\n          <Player />\r\n        </Wrapper>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export interface Theme {\r\n  background: {\r\n    light: string;\r\n    default: string;\r\n    dark: string;\r\n    hover: string;\r\n    active: string;\r\n  };\r\n  font: {\r\n    size: {\r\n      small: string;\r\n      medium: string;\r\n      large: string;\r\n      extraLarge: string;\r\n      extraExtraLarge: string;\r\n    };\r\n    weight: {\r\n      light: number;\r\n      normal: number;\r\n      bold: number;\r\n    };\r\n  };\r\n  foreground: {\r\n    default: string;\r\n    dark: string;\r\n  };\r\n  primaryLight: string;\r\n  primary: string;\r\n  filter: {\r\n    darken: string;\r\n  };\r\n}\r\n\r\nexport const theme: Theme = {\r\n  background: {\r\n    light: \"#303030\",\r\n    default: \"#202020\",\r\n    dark: \"#101010\",\r\n    hover: \"rgba(255, 255, 255, 0.1)\",\r\n    active: \"rgba(255, 255, 255, 0.2)\"\r\n  },\r\n  font: {\r\n    size: {\r\n      small: \"12px\",\r\n      medium: \"16px\",\r\n      large: \"20px\",\r\n      extraLarge: \"24px\",\r\n      extraExtraLarge: \"34px\"\r\n    },\r\n    weight: {\r\n      light: 300,\r\n      normal: 400,\r\n      bold: 500\r\n    }\r\n  },\r\n  foreground: {\r\n    default: \"#ffffff\",\r\n    dark: \"rgba(255, 255, 255, 0.4)\"\r\n  },\r\n  primary: \"#1db954\",\r\n  primaryLight: \"#1ed760\",\r\n  filter: {\r\n    darken: \"brightness(0.5)\"\r\n  }\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\nimport { theme } from \"./theme\";\r\n\r\nexport default createGlobalStyle`\r\n  html, body, #root {\r\n    height: 100%;\r\n  }\r\n\r\n  body, button, ul {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  body {\r\n    background: ${theme.background.default}; \r\n    color: ${theme.foreground.default};\r\n    font-family: \"Roboto\", sans-serif;\r\n    font-size: ${theme.font.size.medium};\r\n    font-weight: ${theme.font.weight.normal};\r\n    user-select: none;\r\n  }\r\n\r\n  a {\r\n    color: ${theme.foreground.default};\r\n    text-decoration: none;\r\n  }\r\n\r\n  button {\r\n    background: transparent;\r\n    border: 0;\r\n    color: ${theme.foreground.default};\r\n    font-family: \"Roboto\", sans-serif;\r\n    font-size: ${theme.font.size.medium};\r\n    font-weight: ${theme.font.weight.normal};\r\n\r\n    &:not(:disabled) {\r\n      cursor: pointer;\r\n    }\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n\r\n  ul {\r\n    list-style: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { ThemeProvider } from \"./styles/styled\";\r\nimport rootReducer from \"./reducers\";\r\nimport App from \"./components/layout/App\";\r\nimport { checkRedirection, initAuthorization } from \"./helpers/authorization\";\r\nimport fetchMiddleware from \"./middlewares/fetchMiddleware\";\r\nimport { theme } from \"./styles/theme\";\r\nimport GlobalStyle from \"./styles/global\";\r\n\r\ncheckRedirection();\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunkMiddleware, fetchMiddleware))\r\n);\r\ninitAuthorization(store.dispatch);\r\n\r\nReactDOM.render(\r\n  <>\r\n    <GlobalStyle />\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </ThemeProvider>\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import { Dispatch } from \"redux\";\r\nimport { authorizedFetch } from \"../helpers/authorization\";\r\n\r\nexport default () => (next: Dispatch) => (action: any) => {\r\n  const { types, path, select } = action;\r\n  if (types) {\r\n    const [requestType, successType, failureType] = types;\r\n    next({ type: requestType });\r\n\r\n    return authorizedFetch(`${process.env.REACT_APP_BASE_URL}/${path}`).then(\r\n      response =>\r\n        response.json().then(json => {\r\n          if (response.ok) {\r\n            next({ type: successType, payload: select ? select(json) : json });\r\n          } else {\r\n            next({ type: failureType, payload: json.error });\r\n          }\r\n        })\r\n    );\r\n  } else {\r\n    next(action);\r\n  }\r\n};\r\n"],"sourceRoot":""}